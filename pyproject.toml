[tool.poetry]
name = "refchecker"
version = "0.2.14"
description = "RefChecker provides automatic checking pipeline for detecting fine-grained hallucinations generated by Large Language Models."
authors = [
    "Xiangkun Hu <xiangkhu@amazon.com>",
    "Dongyu Ru <rudongyu@amazon.com>",
    "Qipeng Guo <gqipeng@amazon.com>",
    "Lin Qiu <quln@amazon.com>",
    "Zheng Zhang <zhaz@amazon.com>"
]
readme = "README.md"
license = "Apache-2.0"

[tool.poetry.dependencies]
python = "^3.10"
spacy = "^3.7"
boto3 = "^1.35"
torch = "^2"
transformers = "^4.41"
rank-bm25 = "^0.2"
beautifulsoup4 = "^4.12"
anthropic = "^0.42"
plotly = "^5.22"
nltk = "^3.8"
pytorch_lightning = "^2.3"  # for alignscore
scikit-learn = "^1.5"
accelerate = "^0.31"
litellm = "^1.49"
diskcache = "^5"

# optional dependencies required by specific modules
scikit-learn-intelex = { version = "^2024.1.0", optional = true }
vllm = { version = "^0.5", optional = true }

[tool.poetry.extras]
repcex = ["scikit-learn-intelex"]
open-extractor = ["vllm"]

[tool.poetry.scripts]
refchecker-cli = "refchecker.cli:main"


[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
